import{d as q,a1 as S,s as U,r as i,v,O as h,R as d,Y as A,j as l,i as o,u as e,_ as D,a2 as M,o as B,a3 as F,A as R,C as c,M as g,x as V,a4 as z,a5 as P,a6 as m,a7 as p,t as j}from"./vendor-DCUXqmZE.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"farm-container"},O=q({__name:"index",setup(T){j();const N=S(),{t:a}=U(),s=i(!1),b=i(),n=i({name:"",cardNo:"",areaNo:"",greenhouseNo:"",phone:""}),_={name:{required:!0,message:a("farmer.pleaseInputName"),trigger:"blur"},cardNo:{required:!0,message:a("farmer.pleaseInputCardNo"),trigger:"blur"},areaNo:{required:!0,message:a("farmer.pleaseInputAreaNo"),trigger:"blur"},greenhouseNo:{required:!0,message:a("farmer.pleaseInputGreenhouseNo"),trigger:"blur"},phone:{required:!0,message:a("farmer.pleaseInputPhone"),trigger:"blur"}},I=[{title:a("farmer.name"),key:"name"},{title:a("farmer.cardNo"),key:"cardNo"},{title:a("farmer.areaNo"),key:"areaNo"},{title:a("farmer.greenhouseNo"),key:"greenhouseNo"},{title:a("farmer.phone"),key:"phone"},{title:a("table.actions"),key:"actions",render(u){return v(h,null,{default:()=>[v(d,{size:"small",onClick:()=>C()},{default:()=>a("common.edit")}),v(d,{size:"small",type:"error",onClick:()=>x(u)},{default:()=>a("common.delete")})]})}}],f=i([]),k={pageSize:10},y=()=>{s.value=!0},w=()=>{var u;(u=b.value)==null||u.validate(r=>{if(!r){const t={...n.value,id:Date.now()};f.value.push(t),N.success(a("farmer.addSuccess")),s.value=!1,n.value={name:"",cardNo:"",areaNo:"",greenhouseNo:"",phone:""}}})},C=u=>{N.info(a("farmer.editInProgress"))},x=u=>{f.value=f.value.filter(r=>r.id!==u.id),N.success(a("farmer.deleteSuccess"))};return(u,r)=>(B(),A("div",G,[l(e(D),null,{header:o(()=>[l(e(h),{justify:"space-between"},{default:o(()=>[R("span",null,c(e(a)("menu.farmManagement")),1),l(e(d),{type:"primary",onClick:y},{icon:o(()=>[l(e(V),null,{default:o(()=>[l(e(z))]),_:1})]),default:o(()=>[g(" "+c(e(a)("farmer.new")),1)]),_:1})]),_:1})]),default:o(()=>[l(e(F),{columns:I,data:f.value,pagination:k,bordered:!1},null,8,["data"])]),_:1}),l(e(M),{show:s.value,"onUpdate:show":r[6]||(r[6]=t=>s.value=t),preset:"dialog",title:e(a)("farmer.new")},{action:o(()=>[l(e(h),null,{default:o(()=>[l(e(d),{onClick:r[5]||(r[5]=t=>s.value=!1)},{default:o(()=>[g(c(e(a)("common.cancel")),1)]),_:1}),l(e(d),{type:"primary",onClick:w},{default:o(()=>[g(c(e(a)("common.confirm")),1)]),_:1})]),_:1})]),default:o(()=>[l(e(P),{ref_key:"formRef",ref:b,model:n.value,rules:_,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:o(()=>[l(e(m),{label:e(a)("farmer.name"),path:"name"},{default:o(()=>[l(e(p),{value:n.value.name,"onUpdate:value":r[0]||(r[0]=t=>n.value.name=t),placeholder:e(a)("farmer.pleaseInputName")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(e(m),{label:e(a)("farmer.cardNo"),path:"cardNo"},{default:o(()=>[l(e(p),{value:n.value.cardNo,"onUpdate:value":r[1]||(r[1]=t=>n.value.cardNo=t),placeholder:e(a)("farmer.pleaseInputCardNo")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(e(m),{label:e(a)("farmer.areaNo"),path:"areaNo"},{default:o(()=>[l(e(p),{value:n.value.areaNo,"onUpdate:value":r[2]||(r[2]=t=>n.value.areaNo=t),placeholder:e(a)("farmer.pleaseInputAreaNo")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(e(m),{label:e(a)("farmer.greenhouseNo"),path:"greenhouseNo"},{default:o(()=>[l(e(p),{value:n.value.greenhouseNo,"onUpdate:value":r[3]||(r[3]=t=>n.value.greenhouseNo=t),placeholder:e(a)("farmer.pleaseInputGreenhouseNo")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(e(m),{label:e(a)("farmer.phone"),path:"phone"},{default:o(()=>[l(e(p),{value:n.value.phone,"onUpdate:value":r[4]||(r[4]=t=>n.value.phone=t),placeholder:e(a)("farmer.pleaseInputPhone")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show","title"])]))}}),H=E(O,[["__scopeId","data-v-83f2e9d9"]]);export{H as default};
